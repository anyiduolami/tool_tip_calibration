# 基于张正友单目相机标定的手术尖端定位

## 前置准备
- `camera_calibration.py`：相机标定脚本，使用calib文件夹下的棋盘格图片进行相机标定。
当前已运行(结果保存在camera_calibration.npz中)，不更换相机的情况下无需再次运行。

- `tool_tip_calibration.py`: 器械标定脚本，使用`tip_images`中的图片进行器械钻头位置标定。
当前已运行，不更换器械的情况下无需再次运行,结果保存在tool_tip_calibration.npz中。

## 使用方法
- `interaction_tip_tracker.py`:最终的主程序，实现了UI交互和根据相机拍到的图片计算计算尖端的三维坐标，演示时效果为根据相机拍到的两张图片计算起始点尖端到终点尖端的欧式距离
1. 打开终端的命令行，进入所在的文件夹，输入命令python interaction_tip_tracker.py
2. 点击启动摄像头按钮，按空格拍照，共拍两张图片，一张为起始点的尖端图片，一张为终点的尖端图片（确保5个标记点能被正确清楚的识别到）
3. 点击检测标记点按钮，程序会自动检测出5个标记点并且根据算法排序，在图像显示区域的UI中也会可视化的显示
4. 点击计算两点距离按钮，计算完成后，结果显示框会显示两点间的欧式距离

## 一些其他的文件夹的说明
- `images文件夹`:保存着每一次运行程序后起始点尖端和终点尖端的目标检测点的调试信息的图片
